(window.webpackJsonp=window.webpackJsonp||[]).push([[6,9,13],{543:function(t,r,e){"use strict";e.r(r);var n=e(1),l={props:{card:{required:!1,type:[Object,null],default:null},missingPlaceholder:{required:!1,type:Boolean,default:!1},tagType:{required:!1,type:String,default:"p"},shapeKind:{type:String,default:"chars"}},methods:{cardUnicode:function(t){return n.a.cardUnicode(t)},onClickCard:function(t){this.$emit("onClickCard",t)}},computed:{suitColorClass:function(){var t=this.card;return t?n.a.suitColor(t.suit):""},suitIcon:function(){return n.a.suitIcon(this.card.suit)},valueIcon:function(){return n.a.cardValueIcon(this.card.value)}}},c=e(19),component=Object(c.a)(l,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e(t.tagType,{tag:"component"},["chars"==t.shapeKind?e("span",{staticClass:"font-textcards font-bold"},[t.card?e("span",{staticClass:"card-text uppercase",class:[t.suitColorClass]},[t._v(t._s(t.valueIcon)+" "+t._s(t.suitIcon))]):t._e()]):t._e(),t._v(" "),"cards"==t.shapeKind?e("span",{staticClass:"font-cards"},[t.missingPlaceholder&&!t.card?e("span",{staticClass:"text-transparent"},[t._v(t._s(t.cardUnicode("hidden")))]):t._e(),t._v(" "),t.card?e("span",{class:[t.suitColorClass]},[t._v(t._s(t.cardUnicode(t.card.card_id)))]):t._e()]):t._e()])}),[],!1,null,null,null);r.default=component.exports},549:function(t,r,e){"use strict";e.r(r);e(78),e(35),e(16),e(34),e(135),e(36),e(29),e(37),e(30),e(26),e(28),e(38),e(39),e(31);var n=e(1);function l(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,r){if(!t)return;if("string"==typeof t)return c(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(t,r)}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,d=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){d=!0,l=t},f:function(){try{o||null==e.return||e.return()}finally{if(d)throw l}}}}function c(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,e=new Array(r);i<r;i++)e[i]=t[i];return e}var o={props:{player:Object,shapeKind:{type:String,default:"cards"},interactive:{type:Boolean,default:!0},inlineAlternate:{type:Boolean,default:!0}},methods:{getAllCards:function(t){return t.sort((function(a,b){return b.rank-a.rank})),t},getCards:function(t,r){if(void 0===r)return[];var e=r.filter((function(r){return r.suit==t}));return e.sort((function(a,b){return b.value-a.value})),e},suitColor:function(t){return n.a.suitColor(t)},cardValueIcon:function(t){return n.a.cardValueIcon(t)},suitIcon:function(t){return n.a.suitIcon(t)},cardUnicode:function(t){return n.a.cardUnicode(t)},onClickCard:function(t){this.$emit("onClickCard",t)}},computed:{suitValues:function(){return n.a.sortedSuits("notrump")},points:function(){var t=this.player,r=t.id,e=t.card_deck;return n.a.calculatePlayerPoints(r,e)},sortedPlayerCards:function(){var t,r=this.player.cards,e=[],c=l(n.a.sortedSuits("notrump"));try{for(c.s();!(t=c.n()).done;){var s=t.value,o=this.getCards(s,r);o.sort((function(a,b){return b.value-a.value}));var d,f=l(o);try{for(f.s();!(d=f.n()).done;){var y=d.value;e.push(y)}}catch(t){f.e(t)}finally{f.f()}}}catch(t){c.e(t)}finally{c.f()}return e},hiddenPlayerCards:function(){var t=Array(this.player.cards.length);return n.a.chunk(t,4)},cardDistribution:function(){var t=this.player,r=this.getCards,e=t.card_deck,n=this.suitValues.map((function(s){return r(s,e).length}));return n.sort().reverse(),n.join("")},clickableCard:function(){return this.interactive?"cursor-pointer":""}}},d=e(19),component=Object(d.a)(o,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("div",{staticClass:"text-sm md:text-base font-bold uppercase",class:[t.player.dummy?"text-amber-600":""]},[e("span",[t._v(t._s(t.player.id))]),t._v(" "),t.player.dummy?e("span",{staticClass:"ml-1"},[t._v("(dummy)")]):t._e(),t._v(" "),t.interactive&&t.player.isturn?e("span",{staticClass:"text-xs material-icons text-green-800"},[t._v("circle")]):t._e()]),t._v(" "),t.player.showdata?e("div",{staticClass:"text-xs md:text-base font-bold text-gray-700"},[t._v(t._s(t.points)+" HCP ("+t._s(t.cardDistribution)+" distribution)")]):t._e(),t._v(" "),"chars"==t.shapeKind?e("div",{staticClass:"mt-2"},t._l(t.suitValues,(function(r){return e("div",{key:r,staticClass:"font-bold is-unselectable",class:[t.suitColor(r)]},[e("span",{staticClass:"font-textcards"},[t._v(t._s(t.suitIcon(r)))]),t._v(" "),t.player.show?t._e():e("span",{staticClass:"material-icons font-bold has-text-grey-light"},[t._v("horizontal_rule")]),t._v(" "),t.player.show?e("span",t._l(t.getCards(r,t.player.cards),(function(r){return e("span",{key:r.card_id,staticClass:"ml-1",class:[t.clickableCard],on:{click:function(e){return t.onClickCard(r)}}},[t._v(t._s(t.cardValueIcon(r.value)))])})),0):t._e()])})),0):t._e(),t._v(" "),"cards"==t.shapeKind?e("div",{staticClass:"mt-1 font-cards leading-cards text-3xl md:text-5xl"},[!t.inlineAlternate||"east"!=t.player.id&&"west"!=t.player.id?t._e():e("div",[t.player.show?t._e():e("div",{staticClass:"text-gray-500"},t._l(t.hiddenPlayerCards,(function(s,r){return e("div",{key:r},t._l(s,(function(r,n){return e("div",{key:n,staticClass:"inline-flex"},[t._v(t._s(t.cardUnicode("hidden")))])})),0)})),0),t._v(" "),t.player.show?e("div",t._l(t.suitValues,(function(r){return e("div",{key:r},t._l(t.getCards(r,t.player.cards),(function(r){return e("span",{key:r.card_id,class:[t.suitColor(r.suit),t.clickableCard],on:{click:function(e){return t.onClickCard(r)}}},[t._v(t._s(t.cardUnicode(r.card_id)))])})),0)})),0):t._e()]),t._v(" "),t.inlineAlternate&&"north"!=t.player.id&&"south"!=t.player.id?t._e():e("div",[t.player.show?t._e():e("div",{staticClass:"text-gray-500"},t._l(t.sortedPlayerCards,(function(r){return e("span",{key:r.card_id},[t._v(t._s(t.cardUnicode("hidden")))])})),0),t._v(" "),t.player.show?e("div",t._l(t.sortedPlayerCards,(function(r){return e("span",{key:r.card_id,class:[t.suitColor(r.suit),t.clickableCard],on:{click:function(e){return t.onClickCard(r)}}},[t._v(t._s(t.cardUnicode(r.card_id)))])})),0):t._e()])]):t._e()])}),[],!1,null,null,null);r.default=component.exports},564:function(t,r,e){"use strict";e.r(r);e(29),e(37),e(30),e(28),e(38),e(39),e(31),e(51),e(94),e(47),e(95);var n=e(58),l=(e(26),e(96),e(135),e(16),e(35),e(34),e(36),e(64),e(1));function c(object,t){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),r.push.apply(r,e)}return r}function o(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(r){Object(n.a)(t,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(source,r))}))}return t}function d(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,r){if(!t)return;if("string"==typeof t)return f(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(t,r)}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return c=t.done,t},e:function(t){o=!0,l=t},f:function(){try{c||null==e.return||e.return()}finally{if(o)throw l}}}}function f(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,e=new Array(r);i<r;i++)e[i]=t[i];return e}var y={props:{players:Array,contract:Object,tricks:Array},data:function(){return{playedCards:this.playedCards,trickIndex:null}},methods:{teamAbbr:function(t){var r=l.a.getPlayerTeam(t).split("-");return[r[0][0],r[1][0]].join("")},updateTrickIndex:function(i){this.trickIndex=i},playersData:function(t){var r=t||0,e=this.tricks.filter((function(t,i){return i<=r})).reduce((function(t,r){var e,n=d(r);try{for(n.s();!(e=n.n()).done;){t[e.value.card_id]=!0}}catch(t){n.e(t)}finally{n.f()}return t}),{});return this.players.map((function(p){return o(o({},p),{},{show:!0,showdata:!0,cards:p.card_deck.filter((function(t){return!(t.card_id in e)}))})}))},teamType:function(t){var r=this.contract;return l.a.getPlayerTeam(r.player_id)==l.a.getPlayerTeam(t)?"defence":"attack"},countTricks:function(t,r){return this.tricks.slice(0,r).reduce((function(a,r){return a+r.filter((function(r){return r.team_id==t&&r.winner})).length}),0)},playType:function(t,r){var e=this.contract,n=l.a.getPlayerTeam(e.player_id),c=l.a.getPartnerId(e.player_id),o=t.all_cards.map((function(r,i){return r.card_id==t.card_id?i:null})).filter((function(t){return null!=t}))[0]+1,d=(this.playersData(r),n==l.a.getPlayerTeam(t.player_id)),f=l.a.getPartnerId(t.player_id),y=t.all_cards.filter((function(t){return t.player_id==f}))[0],_=n==l.a.getPlayerTeam(t.all_cards[0].player_id),v=t.all_cards.filter((function(t){return t.player_id==c||t.player_id==e.player_id})),h=t.all_cards.filter((function(r){return r.player_id!=f&&r.player_id!=t.player_id})),C=d?"defence":"attack";if(t.suit==e.trump){var m=h.filter((function(r){return e.trump==r.suit&&r.suit==t.suit})).length,k=v.filter((function(r){return e.trump==r.suit&&r.suit==t.suit})).length;return _&&d&&m>0?"drawing trumps":2==k&&0==m?"long trump trick":y.suit!=t.suit?"partner's trump ruffing":0==m?"trump ruffing":"trump trick"}if(d){var x=h[0].player_id,w=h.filter((function(r){return r.suit==t.suit&&r.value>t.value&&r.player_id==x})).length;if(o<4&&w)return"finesse"}if(t.suit==y.suit)return 0==h.filter((function(r){return r.suit==t.suit})).length?"long trick":"establishment";if(y.suit!=t.suit)return 0==h.filter((function(r){return r.suit==t.suit})).length?"long ruffing":"partner ruffing";var j=t.value>10;return"".concat(j?"honor ":"").concat(C," trick")}},computed:{tricksView:function(){return this.tricks.map((function(t){return Object.assign({all_cards:t},t.filter((function(t){return t.winner}))[0])}))},selectedTrickCards:function(){return this.tricks[this.trickIndex||0]}}},_=e(19),component=Object(_.a)(y,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("div",{staticClass:"grid grid-cols-1 gap-4 justify-center items-center place-content-center sm:gap-8 sm:grid-cols-2"},t._l(t.playersData(t.trickIndex),(function(p){return e("div",{key:p.id,staticClass:"col-span-1 justify-self-center"},[e("PlayerCardHand",{attrs:{player:p,shapeKind:"cards",interactive:!1,inlineAlternate:!1}})],1)})),0),t._v(" "),null!=t.trickIndex?e("div",{staticClass:"grid grid-cols-4 gap-4 justify-center items-center place-content-center mt-8 text-3xl sm:text-5xl"},[t._l(t.selectedTrickCards,(function(r){return e("div",{key:r.player_id,staticClass:"col-span-1 justify-self-center"},[e("div",{staticClass:"uppercase text-base font-bold text-xs sm:text-base"},[t._v(t._s(r.player_id))])])})),t._v(" "),t._l(t.selectedTrickCards,(function(t){return e("div",{key:t.card_id,staticClass:"col-span-1 justify-self-center"},[e("SingleCard",{attrs:{card:t,shapeKind:"cards"}})],1)}))],2):t._e(),t._v(" "),e("div",{staticClass:"mt-8 border-b-2 border-gray-200 text-xs sm:text-base"},[e("table",{staticClass:"table-auto w-full border-collapse bg-white text-center"},[t._m(0),t._v(" "),e("tbody",{staticClass:"divide-y divide-gray-300"},t._l(t.tricksView,(function(r,n){return e("tr",{key:n,staticClass:"cursor-pointer odd:bg-white even:bg-slate-100",class:[n===t.trickIndex?"!border-2 !border-gray-400 !shadow-inner":""],on:{click:function(r){return t.updateTrickIndex(n)}}},[e("td",{staticClass:"py-1 px-2 font-bold"},[t._v(t._s(n+1))]),t._v(" "),e("td",{staticClass:"py-1 px-2 font-bold",class:[r.player_id]},[e("span",{staticClass:"uppercase mr-1"},[t._v(t._s(t.teamAbbr(r.player_id)))]),t._v(" "),e("span",{staticClass:"capitalize"},[t._v(t._s(t.teamType(r.player_id)))])]),t._v(" "),e("td",{staticClass:"py-1 px-2 hidden lg:table-cell font-bold",class:[r.player_id]},[t._v(t._s(t.countTricks(r.team_id,n+1)))]),t._v(" "),e("td",{staticClass:"py-1 px-2"},[e("span",{staticClass:"capitalize font-bold mr-1",class:[r.player_id]},[t._v(t._s(r.player_id[0]))]),t._v(" "),e("SingleCard",{attrs:{card:r,tagType:"span"}})],1),t._v(" "),e("td",{staticClass:"py-1 px-2 capitalize md:uppercase text-xs font-bold italic"},[t._v(t._s(t.playType(r,n)))]),t._v(" "),e("td",{staticClass:"py-1 px-2 hidden lg:table-cell"},[e("SingleCard",{staticClass:"mr-1",attrs:{card:r.all_cards[0],tagType:"span"}}),e("SingleCard",{attrs:{card:r.all_cards[2],tagType:"span"}}),t._v(" "),e("span",{staticClass:"font-bold text-gray-600 ml-2 mr-2"},[t._v("vs")]),t._v(" "),e("SingleCard",{staticClass:"mr-1",attrs:{card:r.all_cards[1],tagType:"span"}}),e("SingleCard",{attrs:{card:r.all_cards[3],tagType:"span"}})],1),t._v(" "),e("td",{staticClass:"py-1 px-2 hidden md:table-cell"},t._l(r.all_cards,(function(r){return e("span",{key:r.card_id,staticClass:"capitalize font-bold",class:[r.player_id]},[t._v("\n                            "+t._s(r.player_id[0])+"\n                        ")])})),0),t._v(" "),e("td",{staticClass:"py-1 px-2"},t._l(r.all_cards,(function(t){return e("span",{key:t.card_id},[e("SingleCard",{staticClass:"mr-2",attrs:{card:t,tagType:"span"}})],1)})),0)])})),0)])])])}),[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("thead",{staticClass:"border-b-2 border-gray-200"},[e("tr",[e("th",{staticClass:"py-1 px-2"},[t._v("Trick")]),t._v(" "),e("th",{staticClass:"py-1 px-2"},[t._v("By")]),t._v(" "),e("th",{staticClass:"py-1 px-2 hidden lg:table-cell"},[t._v("Tricks")]),t._v(" "),e("th",{staticClass:"py-1 px-2"},[t._v("Winning")]),t._v(" "),e("th",{staticClass:"py-1 px-2"},[t._v("Type")]),t._v(" "),e("th",{staticClass:"py-1 px-2 hidden lg:table-cell"},[t._v("Combinations")]),t._v(" "),e("th",{staticClass:"py-1 px-2 hidden md:table-cell"},[t._v("Loop")]),t._v(" "),e("th",{staticClass:"py-1 px-2"},[t._v("Played cards")])])])}],!1,null,null,null);r.default=component.exports;installComponents(component,{PlayerCardHand:e(549).default,SingleCard:e(543).default})}}]);