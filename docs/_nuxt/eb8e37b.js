(window.webpackJsonp=window.webpackJsonp||[]).push([[17,4,10],{413:function(t,e,r){"use strict";r.r(e);r(40),r(30),r(36),r(13),r(85),r(37),r(86);var n=r(51),c=(r(39),r(5));function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={props:{players:Array,onlyRemainingCards:Boolean,showPoints:Boolean},data:function(){return{suitValues:c.a.suits()}},methods:{getCards:function(t,e){return c.a.filterCardsBySuit(t,e)},suitColor:function(t){var e=c.a.suitColor(t);return"card-".concat(e)},suitSymbol:function(t){return c.a.suitIcon(t)},valueIcon:function(t){return c.a.cardValueIcon(t)},cardUnicode:function(t){return c.a.cardUnicode(t)},calculatePlayerPoints:function(p){var t=this.onlyRemainingCards?p.cards:p.card_deck;return c.a.calculatePlayerPoints(p.id,t)}},computed:{playersData:function(){var t=this.players,e=this.showPoints,r=this.onlyRemainingCards;return t.map((function(p){return l(l({},p),{},{show:!0,showdata:e,cards:r?p.cards:p.card_deck})}))}}},m=r(26),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",{staticClass:"table is-striped has-text-centered"},[r("thead",[r("tr",[r("th",[t._v("Players")]),t._v(" "),t._l(t.suitValues,(function(e){return r("th",{key:e,staticClass:"card-suit",class:[t.suitColor(e)]},[t._v(t._s(t.suitSymbol(e)))])})),t._v(" "),t.showPoints?r("th",{staticClass:"is-capitalized"},[t._v("HCP")]):t._e()],2)]),t._v(" "),r("tbody",t._l(t.playersData,(function(p){return r("tr",{directives:[{name:"show",rawName:"v-show",value:p.cards.length>0,expression:"p.cards.length > 0"}],key:p.id},[r("td",{staticClass:"is-size-6 has-text-weight-bold is-capitalized is-vcentered p-0"},[t._v(t._s(p.id))]),t._v(" "),t._l(t.suitValues,(function(e){return r("td",{key:e,staticClass:"p-1 is-vcentered"},t._l(t.getCards(e,p.cards),(function(n){return r("span",{key:n.card_id,staticClass:"is-size-3",class:[t.suitColor(e)]},[t._v(t._s(t.cardUnicode(n.card_id)))])})),0)})),t._v(" "),t.showPoints?r("td",{staticClass:"p-0 is-size-6 is-italic is-uppercase is-vcentered"},[t._v(t._s(t.calculatePlayerPoints(p)))]):t._e()],2)})),0)])}),[],!1,null,null,null);e.default=component.exports},414:function(t,e,r){"use strict";r.r(e);var n={data:function(){return{msg:""}},methods:{okClicked:function(){this.msg=""},show:function(t){this.msg=t}},computed:{}},c=r(26),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal",class:[t.msg?"is-active":""]},[r("div",{staticClass:"modal-background"}),t._v(" "),r("div",{staticClass:"modal-content"},[r("article",{staticClass:"message message is-warning"},[t._m(0),t._v(" "),r("div",{staticClass:"message-body is-size-5"},[r("div",{staticClass:"has-text-dark"},[t._v(t._s(t.msg))]),t._v(" "),r("div",{staticClass:"has-text-right"},[r("button",{staticClass:"button is-large is-warning",on:{click:t.okClicked}},[r("span",{staticClass:"material-icons"},[t._v("done_outline")])])])])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"message-header"},[r("p",{staticClass:"is-align-items-center is-flex"},[r("span",{staticClass:"material-icons mr-3"},[t._v("error_outline")]),t._v(" "),r("span",[t._v("Alert message")])])])}],!1,null,null,null);e.default=component.exports},427:function(t,e,r){"use strict";r.r(e);var n=r(14),c=r(6),o=(r(39),r(36),r(13),r(58),r(5)),l={layout:"play",data:function(){return{players:o.a.players(),gameCustoms:o.a.getGameCustoms(),selectedScoreRange:{from:1,to:40,team:"",points:0}}},methods:{suitColor:function(t){var e=o.a.suitColor(t);return"card-".concat(e)},suitSymbol:function(t){return o.a.suitIcon(t)},valueIcon:function(t){return o.a.cardValueIcon(t)},cleanCustomCardDeck:function(){var t=this.gameCustoms;t.cards=[],t.bid=void 0,"predefined"==t.bidding&&(t.bidding="manual")},createRandomCardDeck:function(){this.cleanCustomCardDeck();var t=this.gameCustoms;t.cards=o.a.randomCardDeck();var e=o.a.getTopTeamPlayer(t.cards);for(var r in t.players)t.players[r].show_cards="no";t.players[e].show_cards="yes",t.display_cards_top_team=!1},loadCustomCardDeck:function(t){this.cleanCustomCardDeck();var e=this.gameCustoms,r=t.target.files||t.dataTransfer.files;if(r.length){var n=new FileReader;n.onload=function(t){var r=JSON.parse(t.target.result);e.cards=r},n.readAsText(r[0])}},createNewGame:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.gameCustoms,c="/section/play",r.prev=2,"load-game"!=t){r.next=9;break}return c="/section/play",r.next=7,e.$store.dispatch("game/loadSavedGame");case 7:r.next=11;break;case 9:return r.next=11,e.$store.dispatch("game/newGame",n);case 11:r.next=18;break;case 13:return r.prev=13,r.t0=r.catch(2),console.log(r.t0),o.a.showError(r.t0,e.$refs.alertModal),r.abrupt("return");case 18:return e.$router.push({path:c}),r.abrupt("return");case 20:case"end":return r.stop()}}),r,null,[[2,13]])})))()}},computed:{customPlayerCards:function(){var t=this.gameCustoms.cards,e=o.a.getTopTeamByPoints(t),r=Object(n.a)(e,2),c=r[0],l=r[1];return this.selectedScoreRange.team=c,this.selectedScoreRange.points=l,o.a.players().map((function(e){return{id:e,card_deck:t?t.filter((function(t){return t.player_id==e})):[]}}))},existingCustomCards:function(){return this.customPlayerCards.reduce((function(t,p){return t+p.card_deck.length}),0)>0}}},d=r(26),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("AlertModal",{ref:"alertModal"}),t._v(" "),r("p",{staticClass:"title is-2 is-capitalized has-text-weight-bold has-text-centered"},[t._v("New Game")]),t._v(" "),t._m(0),t._v(" "),r("div",{staticClass:"buttons is-right"},[r("button",{staticClass:"button light-shadow is-success has-text-weight-bold is-capitalized",on:{click:t.createRandomCardDeck}},[t._v("Apply rules")])]),t._v(" "),r("div",{staticClass:"buttons"},[r("button",{staticClass:"button light-shadow is-warning has-text-weight-bold is-capitalized",on:{click:t.cleanCustomCardDeck}},[t._v("Clean all cards")]),t._v(" "),r("button",{staticClass:"button light-shadow is-info has-text-weight-bold is-capitalized",on:{click:t.createRandomCardDeck}},[t._v("Random cards")])]),t._v(" "),r("PlayerCards",{staticClass:"mb-3 is-fullwidth is-bordered",attrs:{players:t.customPlayerCards,onlyRemainingCards:!1,showPoints:!0}}),t._v(" "),t.selectedScoreRange.team?r("div",{staticClass:"block"},[r("div",{staticClass:"has-text-centered is-size-6 is-italic"},[t._v("\n            The top team is "),r("span",{staticClass:"is-capitalized"},[t._v(t._s(t.selectedScoreRange.team))]),t._v(" with "+t._s(t.selectedScoreRange.points)+" total HCP.\n        ")])]):t._e(),t._v(" "),r("div",{staticClass:"buttons is-centered"},[r("button",{staticClass:"button light-shadow is-light is-medium has-text-weight-bold is-capitalized",on:{click:function(e){return t.createNewGame()}}},[t._v("Play")]),t._v(" "),r("button",{staticClass:"button light-shadow is-light is-medium has-text-weight-bold is-capitalized",on:{click:function(e){return t.createNewGame("load-game")}}},[t._v("Load Game")])])],1)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[t._v("Random hands by custom rules")]),t._v(" "),r("div",{staticClass:"control"},[r("textarea",{staticClass:"textarea has-text-weight-bold mono-font",attrs:{placeholder:"i.e.: N has 4 clubs AND distribution 4333"}})])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{AlertModal:r(414).default,PlayerCards:r(413).default})}}]);