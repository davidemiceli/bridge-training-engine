(window.webpackJsonp=window.webpackJsonp||[]).push([[0,9,13],{406:function(t,r,e){var n=e(7);t.exports=n(1..valueOf)},407:function(t,r,e){"use strict";var n=e(15),c=e(1),l=e(7),o=e(87),d=e(25),f=e(21),_=e(149),y=e(59),v=e(116),h=e(330),m=e(9),C=e(74).f,k=e(50).f,w=e(22).f,I=e(406),x=e(408).trim,S="Number",T=c.Number,O=T.prototype,P=c.TypeError,A=l("".slice),j=l("".charCodeAt),E=function(t){var r=h(t,"number");return"bigint"==typeof r?r:N(r)},N=function(t){var r,e,n,c,l,o,d,code,f=h(t,"number");if(v(f))throw P("Cannot convert a Symbol value to a number");if("string"==typeof f&&f.length>2)if(f=x(f),43===(r=j(f,0))||45===r){if(88===(e=j(f,2))||120===e)return NaN}else if(48===r){switch(j(f,1)){case 66:case 98:n=2,c=49;break;case 79:case 111:n=8,c=55;break;default:return+f}for(o=(l=A(f,2)).length,d=0;d<o;d++)if((code=j(l,d))<48||code>c)return NaN;return parseInt(l,n)}return+f};if(o(S,!T(" 0o1")||!T("0b1")||T("+0x1"))){for(var z,U=function(t){var r=arguments.length<1?0:T(E(t)),e=this;return y(O,e)&&m((function(){I(e)}))?_(Object(r),e,U):r},V=n?C(T):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),D=0;V.length>D;D++)f(T,z=V[D])&&!f(U,z)&&w(U,z,k(T,z));U.prototype=O,O.constructor=U,d(c,S,U)}},408:function(t,r,e){var n=e(7),c=e(31),l=e(16),o=e(409),d=n("".replace),f="["+o+"]",_=RegExp("^"+f+f+"*"),y=RegExp(f+f+"*$"),v=function(t){return function(r){var e=l(c(r));return 1&t&&(e=d(e,_,"")),2&t&&(e=d(e,y,"")),e}};t.exports={start:v(1),end:v(2),trim:v(3)}},409:function(t,r){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},410:function(t,r,e){"use strict";e.r(r);e(407);var n=e(5),c={props:{card:{required:!1,type:[Object,null],default:null},missingPlaceholder:{required:!1,type:Boolean,default:!1},cardSize:{required:!1,type:Number,default:5},tagType:{required:!1,type:String,default:"p"},shapeKind:{type:String,default:"chars"}},methods:{cardUnicode:function(t){return n.a.cardUnicode(t)},onClickCard:function(t){this.$emit("onClickCard",t)}},computed:{suitColorClass:function(){var t=this.card;if(!t)return"";var r=n.a.suitColor(t.suit);return"card-".concat(r)},suitIcon:function(){return n.a.suitIcon(this.card.suit)},valueIcon:function(){return n.a.cardValueIcon(this.card.value)}}},l=e(26),component=Object(l.a)(c,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e(t.tagType,{tag:"component",class:["is-size-"+t.cardSize]},["chars"==t.shapeKind?e("span",{staticClass:"card-suit has-text-weight-bold"},[t.card?e("span",{staticClass:"card-text is-uppercase",class:[t.suitColorClass]},[t._v(t._s(t.valueIcon)+" "+t._s(t.suitIcon))]):t._e()]):t._e(),t._v(" "),"cards"==t.shapeKind?e("span",{staticClass:"card-shape"},[t.missingPlaceholder&&!t.card?e("span",{staticClass:"card-invisible"},[t._v(t._s(t.cardUnicode("hidden")))]):t._e(),t._v(" "),t.card?e("span",{class:[t.suitColorClass]},[t._v(t._s(t.cardUnicode(t.card.card_id)))]):t._e()]):t._e()])}),[],!1,null,null,null);r.default=component.exports},416:function(t,r,e){"use strict";e.r(r);e(118),e(36),e(13),e(39),e(119),e(41),e(34),e(42),e(32),e(27),e(30),e(43),e(44),e(33);var n=e(5);function c(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,r){if(!t)return;if("string"==typeof t)return l(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return l(t,r)}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,d=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){d=!0,c=t},f:function(){try{o||null==e.return||e.return()}finally{if(d)throw c}}}}function l(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,e=new Array(r);i<r;i++)e[i]=t[i];return e}var o={props:{player:Object,shapeKind:{type:String,default:"cards"},interactive:{type:Boolean,default:!0},inlineAlternate:{type:Boolean,default:!0}},methods:{getAllCards:function(t){return t.sort((function(a,b){return b.rank-a.rank})),t},getCards:function(t,r){if(void 0===r)return[];var e=r.filter((function(r){return r.suit==t}));return e.sort((function(a,b){return b.value-a.value})),e},suitColor:function(t){var r=n.a.suitColor(t);return"card-".concat(r)},cardValueIcon:function(t){return n.a.cardValueIcon(t)},suitIcon:function(t){return n.a.suitIcon(t)},cardUnicode:function(t){return n.a.cardUnicode(t)},onClickCard:function(t){this.$emit("onClickCard",t)}},computed:{suitValues:function(){return n.a.sortedSuits("notrump")},points:function(){var t=this.player,r=t.id,e=t.card_deck;return n.a.calculatePlayerPoints(r,e)},sortedPlayerCards:function(){var t,r=this.player.cards,e=[],l=c(n.a.sortedSuits("notrump"));try{for(l.s();!(t=l.n()).done;){var s=t.value,o=this.getCards(s,r);o.sort((function(a,b){return b.value-a.value}));var d,f=c(o);try{for(f.s();!(d=f.n()).done;){var _=d.value;e.push(_)}}catch(t){f.e(t)}finally{f.f()}}}catch(t){l.e(t)}finally{l.f()}return e},hiddenPlayerCards:function(){var t=Array(this.player.cards.length);return n.a.chunk(t,4)},cardDistribution:function(){var t=this.player,r=this.getCards,e=t.card_deck,n=this.suitValues.map((function(s){return r(s,e).length}));return n.sort().reverse(),n.join("")},clickableCard:function(){return this.interactive?"is-clickable":""}}},d=e(26),component=Object(d.a)(o,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"block"},[e("div",{staticClass:"is-size-6 has-text-weight-bold is-uppercase icon-text",class:[t.player.dummy?"has-text-warning-dark":"has-text-black"]},[e("span",[t._v(t._s(t.player.id))]),t._v(" "),t.player.dummy?e("span",{staticClass:"ml-1"},[t._v("(dummy)")]):t._e(),t._v(" "),t.interactive&&t.player.isturn?e("span",{staticClass:"icon material-icons has-text-success-dark is-size-7"},[t._v("circle")]):t._e()]),t._v(" "),t.player.showdata?e("div",{staticClass:"is-size-6 has-text-weight-bold mb-1"},[t._v(t._s(t.points)+" HCP ("+t._s(t.cardDistribution)+" distribution)")]):t._e(),t._v(" "),"chars"==t.shapeKind?e("div",t._l(t.suitValues,(function(r){return e("div",{key:r,staticClass:"is-size-4 has-text-weight-bold is-unselectable",class:[t.suitColor(r)]},[e("span",{staticClass:"card-suit"},[t._v(t._s(t.suitIcon(r)))]),t._v(" "),t.player.show?t._e():e("span",{staticClass:"material-icons has-text-weight-bold has-text-grey-light"},[t._v("horizontal_rule")]),t._v(" "),t.player.show?e("span",t._l(t.getCards(r,t.player.cards),(function(r){return e("span",{key:r.card_id,staticClass:"ml-1",class:[t.clickableCard],on:{click:function(e){return t.onClickCard(r)}}},[t._v(t._s(t.cardValueIcon(r.value)))])})),0):t._e()])})),0):t._e(),t._v(" "),"cards"==t.shapeKind?e("div",{staticClass:"card-shape is-size-1 is-unselectable"},[!t.inlineAlternate||"east"!=t.player.id&&"west"!=t.player.id?t._e():e("div",[t.player.show?t._e():e("div",{staticClass:"has-text-grey"},t._l(t.hiddenPlayerCards,(function(s,r){return e("div",{key:r},t._l(s,(function(r,n){return e("span",{key:n},[t._v(t._s(t.cardUnicode("hidden")))])})),0)})),0),t._v(" "),t.player.show?e("div",t._l(t.suitValues,(function(r){return e("div",{key:r},t._l(t.getCards(r,t.player.cards),(function(r){return e("span",{key:r.card_id,class:[t.suitColor(r.suit),t.clickableCard],on:{click:function(e){return t.onClickCard(r)}}},[t._v(t._s(t.cardUnicode(r.card_id)))])})),0)})),0):t._e()]),t._v(" "),t.inlineAlternate&&"north"!=t.player.id&&"south"!=t.player.id?t._e():e("div",[t.player.show?t._e():e("div",{staticClass:"has-text-grey"},t._l(t.sortedPlayerCards,(function(r){return e("span",{key:r.card_id},[t._v(t._s(t.cardUnicode("hidden")))])})),0),t._v(" "),t.player.show?e("div",t._l(t.sortedPlayerCards,(function(r){return e("span",{key:r.card_id,class:[t.suitColor(r.suit),t.clickableCard],on:{click:function(e){return t.onClickCard(r)}}},[t._v(t._s(t.cardUnicode(r.card_id)))])})),0):t._e()])]):t._e()])}),[],!1,null,null,null);r.default=component.exports},422:function(t,r,e){"use strict";e.r(r);e(41),e(34),e(42),e(32),e(30),e(43),e(44),e(33),e(40),e(85),e(37),e(86);var n=e(51),c=(e(27),e(117),e(119),e(13),e(36),e(39),e(75),e(5));function l(object,t){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),r.push.apply(r,e)}return r}function o(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(r){Object(n.a)(t,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(source,r))}))}return t}function d(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,r){if(!t)return;if("string"==typeof t)return f(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return f(t,r)}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return l=t.done,t},e:function(t){o=!0,c=t},f:function(){try{l||null==e.return||e.return()}finally{if(o)throw c}}}}function f(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,e=new Array(r);i<r;i++)e[i]=t[i];return e}var _={props:{players:Array,contract:Object,tricks:Array},data:function(){return{playedCards:this.playedCards,trickIndex:null}},methods:{teamAbbr:function(t){var r=c.a.getPlayerTeam(t).split("-");return[r[0][0],r[1][0]].join("")},updateTrickIndex:function(i){this.trickIndex=i},playersData:function(t){var r=t||0,e=this.tricks.filter((function(t,i){return i<=r})).reduce((function(t,r){var e,n=d(r);try{for(n.s();!(e=n.n()).done;){t[e.value.card_id]=!0}}catch(t){n.e(t)}finally{n.f()}return t}),{});return this.players.map((function(p){return o(o({},p),{},{show:!0,showdata:!0,cards:p.card_deck.filter((function(t){return!(t.card_id in e)}))})}))},teamType:function(t){var r=this.contract;return c.a.getPlayerTeam(r.player_id)==c.a.getPlayerTeam(t)?"defence":"attack"},playType:function(t,r){var e=this.contract,n=c.a.getPlayerTeam(e.player_id),l=c.a.getPartnerId(e.player_id),o=t.all_cards.map((function(r,i){return r.card_id==t.card_id?i:null})).filter((function(t){return null!=t}))[0]+1,d=(this.playersData(r),n==c.a.getPlayerTeam(t.player_id)),f=c.a.getPartnerId(t.player_id),_=t.all_cards.filter((function(t){return t.player_id==f}))[0],y=n==c.a.getPlayerTeam(t.all_cards[0].player_id),v=t.all_cards.filter((function(t){return t.player_id==l||t.player_id==e.player_id})),h=t.all_cards.filter((function(r){return r.player_id!=f&&r.player_id!=t.player_id})),m=d?"defence":"attack";if(t.suit==e.trump){var C=h.filter((function(r){return e.trump==r.suit&&r.suit==t.suit})).length,k=v.filter((function(r){return e.trump==r.suit&&r.suit==t.suit})).length;return y&&d&&C>0?"drawing trumps":2==k&&0==C?"long trump trick":_.suit!=t.suit?"partner's trump ruffing":0==C?"trump ruffing":"trump trick"}if(d){var w=h[0].player_id,I=h.filter((function(r){return r.suit==t.suit&&r.value>t.value&&r.player_id==w})).length;if(o<4&&I)return"finesse"}if(t.suit==_.suit)return 0==h.filter((function(r){return r.suit==t.suit})).length?"long trick":"establishment";if(_.suit!=t.suit)return 0==h.filter((function(r){return r.suit==t.suit})).length?"long ruffing":"partner ruffing";var x=t.value>10;return"".concat(x?"honor ":"").concat(m," trick")}},computed:{tricksView:function(){return this.tricks.map((function(t){return Object.assign({all_cards:t},t.filter((function(t){return t.winner}))[0])}))},selectedTrickCards:function(){return this.tricks[this.trickIndex||0]}}},y=e(26),component=Object(y.a)(_,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("div",{staticClass:"columns is-multiline is-mobile"},t._l(t.playersData(t.trickIndex),(function(p){return e("div",{key:p.id,staticClass:"column is-6 is-flex is-justify-content-center is-align-items-center"},[e("PlayerCardHand",{attrs:{player:p,shapeKind:"cards",interactive:!1,inlineAlternate:!1}})],1)})),0),t._v(" "),null!=t.trickIndex?e("div",{staticClass:"columns is-multiline is-mobile"},[t._l(t.selectedTrickCards,(function(r){return e("div",{key:r.card_id,staticClass:"column is-3 has-text-centered pb-0"},[e("div",{staticClass:"is-uppercase has-text-weight-bold"},[t._v(t._s(r.player_id))])])})),t._v(" "),t._l(t.selectedTrickCards,(function(t){return e("div",{key:t.card_id,staticClass:"column is-3 has-text-centered pt-0"},[e("SingleCard",{attrs:{card:t,cardSize:1,shapeKind:"cards"}})],1)}))],2):t._e(),t._v(" "),e("div",{staticClass:"table-container"},[e("table",{staticClass:"table is-striped is-narrow is-fullwidth has-text-centered"},[t._m(0),t._v(" "),e("tbody",t._l(t.tricksView,(function(r,n){return e("tr",{key:n,staticClass:"is-clickable",class:[n===t.trickIndex?"table-row-selected":""],on:{click:function(r){return t.updateTrickIndex(n)}}},[e("td",{staticClass:"is-vcentered has-text-weight-bold"},[t._v(t._s(n+1))]),t._v(" "),e("td",{staticClass:"is-vcentered has-text-weight-bold",class:[r.player_id]},[e("span",{staticClass:"is-uppercase mr-1"},[t._v(t._s(t.teamAbbr(r.player_id)))]),t._v(" "),e("span",{staticClass:"is-capitalized"},[t._v(t._s(t.teamType(r.player_id)))])]),t._v(" "),e("td",[e("span",{staticClass:"is-capitalized has-text-weight-bold mr-1",class:[r.player_id]},[t._v(t._s(r.player_id[0]))]),t._v(" "),e("SingleCard",{attrs:{card:r,cardSize:6,tagType:"span"}})],1),t._v(" "),e("td",{staticClass:"is-vcentered is-uppercase is-size-7 has-text-weight-bold is-italic"},[t._v(t._s(t.playType(r,n)))]),t._v(" "),e("td",[e("SingleCard",{staticClass:"mr-1",attrs:{card:r.all_cards[0],cardSize:6,tagType:"span"}}),e("SingleCard",{attrs:{card:r.all_cards[2],cardSize:6,tagType:"span"}}),t._v(" "),e("span",{staticClass:"has-text-weight-bold has-text-grey ml-2 mr-2"},[t._v("vs")]),t._v(" "),e("SingleCard",{staticClass:"mr-1",attrs:{card:r.all_cards[1],cardSize:6,tagType:"span"}}),e("SingleCard",{attrs:{card:r.all_cards[3],cardSize:6,tagType:"span"}})],1),t._v(" "),e("td",{staticClass:"is-vcentered"},t._l(r.all_cards,(function(r){return e("span",{key:r.card_id,staticClass:"is-capitalized has-text-weight-bold",class:[r.player_id]},[t._v("\n                            "+t._s(r.player_id[0])+"\n                        ")])})),0),t._v(" "),e("td",t._l(r.all_cards,(function(t){return e("span",{key:t.card_id},[e("SingleCard",{staticClass:"mr-2",attrs:{card:t,cardSize:6,tagType:"span"}})],1)})),0)])})),0)])])])}),[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("thead",[e("tr",[e("th",[t._v("Trick")]),t._v(" "),e("th",[t._v("By")]),t._v(" "),e("th",[t._v("Winning")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Combinations")]),t._v(" "),e("th",[t._v("Loop")]),t._v(" "),e("th",[t._v("Played cards")])])])}],!1,null,null,null);r.default=component.exports;installComponents(component,{PlayerCardHand:e(416).default,SingleCard:e(410).default})}}]);